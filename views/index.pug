extends layout.pug

mixin article(id, titre, description, date, auteur, categorie)
    article
        h1
            a(href='/article/'+ id)= titre
        p= description.slice(0, 100) + '... '
            a(href='/article/'+ id) Lire la suite
        footer
            span.infos
                i.fa.fa-calendar
                |  Publi&eacute; #{new Date(date).toLocaleString()}, par 
                em= auteur + ' '
                span.categorie
                    i.fa.fa-tag
                    |  #{categorie}

block variables
    - let title = 'Accueil';

block content
    main.container
        h1 Bienvenue sur mon blog

        p Voici la liste des derniers articles du blog :

        each article in articles
            +article(article._id, article.title, article.content, article.dateCreated, article.author.name, article.category.title)
